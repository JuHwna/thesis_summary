# MCP(Model Context Protocol)
## 1. MCP 소개
### 1. 정의와 목적
- MPC란?
  - LLM 애플리케이션과 외부 데이터 소스 및 도구들 간의 원활한 통합을 가능하게 하는 개방형 프로토콜
  - AI 기반 IDE를 구축하든 채팅 인터페이스를 개선하든, 커스텀 AI 워크플로우를 만들든 관계없이 MCP는 LLM이 필요로 하는 컨텍스트와 연결하기 위한 표준화된 방법을 제공함
- 핵심 목적
  - (1) 컨텍스트 공유 표준화
    - LLM 애플리케이션과 데이터 소스 간의 상호 작용을 위한 표준 프로토콜 제공
    - 구조화된 방식으로 컨텍스트 정보를 전달하고 관리
    - 일관된 인터페이스를 통한 데이터 접근 보장
  - (2) 도구와 기능 노출
    - AI 시스템에 로컬 또는 원격 도구들을 안전하게 노출
    - 표준화된 방식으로 기능을 정의하고 호출
    - 도구의 능력을 명확하게 기술하고 제어
  - (3) 통합 워크플로우 구축

### 2. 기본 아키텍처
- 아키텍처 개요
  - 호스트 애플리케이션, 클라이언트, 서버 간의 표준화된 통신을 위한 프로토콜
  - 구조 : JSON - RPC 기반
    - 안전하고 효율적인 데이터 및 기능 교환을 가능하게 함

![image](https://github.com/user-attachments/assets/61a17aff-1322-4fd6-b1c9-af5032dd73ed)

- (1) MCP 호스트
  - LLM 기반 애플리케이션(Claude Desktop, IDE 등)
  - 여러 MCP 서버와 동시 연결 가능
  - 사용자 인터페이스 제공
  - 보안 및 권한 관리
- (2) MCP 클라이언트
  - 호스트 애플리케이션 낸 프로토콜 구현체
  - 서버와 1:1 연결 유지
  - 메시지 직렬화/역직렬화 처리
  - 상태 관리 및 에러 핸들링
- (3) MCP 서버
  - 특정 기능이나 리소스 제공
  - JSON-RPC 기반 API 구현
  - 보안 및 접근 제어 관리
  - 상태 및 리소스 관리

- 통신 프로토콜
- (1) 메시지 구조
~~~
// 기본 JSON-RPC 2.0 메시지 형식
interface JSONRPCMessage {
    jsonrpc: "2.0";
    id?: string | number;  // 요청/응답 식별자
    method?: string;       // 메서드 이름
    params?: object;       // 매개변수
    result?: object;       // 응답 결과
    error?: {
        code: number;
        message: string;
        data?: unknown;
    };
}
~~~  

- (2) 통신흐름
  - 초기화
    - 능력 협상 (Capability Negotiation)
    - 버전 확인
    - 서버 정보 교환
  - 일반 통신
    - 요청/ 응답
    - 알림
    - 에러 처리
  - 종료
    - 정상 종료
    - 에러 복구
    - 리소스 정리

- (3) 기능 컴포넌트
- 
