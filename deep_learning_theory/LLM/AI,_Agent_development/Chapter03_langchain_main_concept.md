# Chapter 03. 랭체인의 핵심 콘텞트
- 현실에서 사용하는 AI 애플리케이션을 만들려면 여러 종류의 LLM을 필연적으로 사용하게 됨
- LLM 프레임워크 중 가장 널리 사용되는 랭체인 위주


## 3.1 랭체인 프레임워크 소개
- 랭체인 : LLM을 더 효과적으로 활용하기 위한 프레임워크
  - 2022년 10월에 공개
  - 해리슨 체이스가 만듦
  - LLM 기반의 애플리케이션 개발을 쉽게 도와주는 다양한 기능을 빠르게 추가하면서 성장해왔음
  - 파이썬과 자바스크립트(타입스크립트) 두 가지 언어로 프레임워크를 제공함

- 랭체인 핵심 아아디어 : 프롬프트, 벡터 스토어, 아웃풋 파서, LLM, 도구, 메모리 등의 여러 구성 요소를 체인 형태로 연결하여 다양하고 복잡한 작업을 단순화하는데 있음
  - 모델, 도구, 메모리, 프롬프트, 벡터 스토어, 도큐먼트 로더, 아웃풋 파서, 텍스트 스플리터
 
### 3.1.1 랭체인으로 오픈AI의 GPT 모델 실행해보기
- 파이썬 패키지 설치 : pip install "langchain[openai]"
  - langchain 뒤의 [openai]는 약간 생소할 것 같음
  - pip 명령어에서 대괄호 안에 적는 것 : 추가 의존성을 의미함
- 랭체인 패키지 매니저 : uv 패키지 매니저 사용
  - 루트 소스의 프로젝트 의존성 파일 : libs/langchain/pyproject.toml
    - 해당 파일의 [project.optional-dependencies] 항목에 extra dependencies를 정의해두었음
  - openai에 대한 추가 의존성 : langchain-openai로 되어 있음
    - 이에 대한 의존성 : libs/partners/openai/pyproject.toml에 정의되어 있음
- 요약 : pip install "langchain[openai]" => langchain과 추가적인 의존성인 langchain-openai 둘 다 설치하는 효과를 가져옴

### 3.1.2 앤트로픽의 모델 실행해보기
- 앤트로픽 모델을 사용하려면 파이썬 패키지 설치 : pip install "langchain[anthropic]"

## 3.2 랭체인의 핵심 콘셉트 : 채팅 모델
- 랭체인에서 다양한 LLM 제공자의 모델에 대하여 채팅 모델(chat model)이라는 개념을 사용함
- LLM : 주로 단일 문자열 입력을 받고 문자열 출력을 생성
- 채팅 모델 : 더 구조화된 메시지 객체의 리스트를 입력으로 받고 AI의 응답을 나타내는 메시지를 출력함
  - 한 턴의 질문 답변으로 끝나는 시스템이 아닌 채팅처럼 AI와 메시지를 계속 주고 받는 형태를 가정함
  - 각 메시지에는 발화자(시스템, 사용자, AI)의 역할이 명시되어 있음 => 모델이 대화 흐름과 대화 의도를 파악하는 데 도움을 줌
